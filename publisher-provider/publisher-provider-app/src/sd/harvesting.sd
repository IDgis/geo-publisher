#![Harvesting]
ext:External[pe]
harvester:Harvester[a]
/harvestSession:HarvestSession[a]
providerDataSource:ProviderDataSource[a]
/providerDatasetConverter:ProviderDatasetConverter[a]
provider:Provider[a]
/datasetInfoConverter:DatasetInfoConverter[a]
metadata:Metadata[a]
/metadataCursor:MetadataCursor[a]
database:Database[a]

ext:harvester.HarvestJob

harvester:>harvestSession.new
harvester:>providerDataSource.ListDatasets
providerDataSource:>provider.ListDatasetInfo

providerDataSource:>providerDatasetConverter.new

provider:>datasetInfoConverter.new
provider:>datasetInfoConverter.ListDatasetInfo

datasetInfoConverter:>metadata.GetAllMetadata
metadata:>metadataCursor.new
metadataCursor:>datasetInfoConverter.MetadataItem

datasetInfoConverter:>providerDatasetConverter.DatasetInfo
providerDatasetConverter:>harvestSession.Dataset

harvestSession:>providerDatasetConverter.NextItem
providerDatasetConverter:>datasetInfoConverter.NextItem

datasetInfoConverter:>metadataCursor.NextItem

metadataCursor:>datasetInfoConverter.End