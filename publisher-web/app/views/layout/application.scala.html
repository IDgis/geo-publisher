@(title: String, jsMain: String = null)(content: Html)

@doFlash(flashType: String) = {
	@if(flash.containsKey(flashType)) {
		<div class="alert alert-@flashType">
			<button type="button" class="close" data-dismiss="alert">&times;</button>
			<strong>@flash.get(flashType)</strong>
		</div>
	}
}

@html(
	title = title, 
	stylesheets = Array(
		routes.WebJarAssets.at(WebJarAssets.locate("css/bootstrap.min.css")).url,
		routes.Assets.at("stylesheets/layout.css").url,
		routes.Assets.at("stylesheets/sb-admin.css").url
	),
	scripts = Array(
		routes.Application.javascriptRoutes.url,
		routes.WebJarAssets.at(WebJarAssets.locate("jquery.min.js")).url,
		routes.WebJarAssets.at(WebJarAssets.locate("js/bootstrap.min.js")).url,
		routes.Assets.at("js/layout.js").url
	) ++ (if(jsMain==null) Array[String]() else  Array[String](jsMain))
) {
	
	<div class="wrapper">
		<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<button class="navbar-toggle" data-target=".sidebar-collapse" data-toggle="collapse" type="button">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#"><span class="glyphicon glyphicon-cloud"></span> GIS publicatieomgeving</a>
				</div>
				
				@* Top links: *@
				<ul class="nav navbar-top-links navbar-right">
					<li class="dropdown" id="event-dropdown-notifications">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Nieuwe meldingen"><span class="glyphicon glyphicon-bell"></span> <span class="badge js-badge">1</span> <b class="caret"></b></a>
						<ul class="js-list dropdown-menu dropdown-messages">
							<li class="dropdown-header">geen datasets met structuurwijziging</li>
							<li class="divider"></li>
							<li class="divider"></li>
							<li>
								<a class="text-center" href="@routes.Datasets.listWithMessages()">Alle datasets met meldingen <span class="glyphicon glyphicon-chevron-right"></span></a> 
							</li>
						</ul>
					</li>
					<li class="dropdown" id="event-dropdown-active-tasks">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Taken"><span class="glyphicon glyphicon-tasks"></span> <span class="js-badge badge hidden">0</span> <b class="caret"></b></a>
						<ul class="js-list dropdown-menu dropdown-tasks">
							<li class="dropdown-header">geen active taken</li>
							<li class="divider"></li>
							<li class="divider"></li>
							<li>
								<a href="#" class="text-center">Bekijk logboek <span class="glyphicon glyphicon-chevron-right"></span></a>
							</li>
						</ul>
					</li>
					<li class="dropdown" id="event-dropdown-issues">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Nieuwe fouten"><span class="glyphicon glyphicon-warning-sign"></span> <span class="badge js-badge">1</span> <b class="caret"></b></a>
						<ul class="js-list dropdown-menu dropdown-alerts">
							<li class="dropdown-header">geen nieuwe fouten</li>
							<li class="divider"></li>
							<li class="divider"></li>
							<li><a href="#" class="text-center">Bekijk foutlogboek <span class="glyphicon glyphicon-chevron-right"></span></a></li>
						</ul>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-user"></span> @session.get("username") <b class="caret"></b></a>
						<ul class="dropdown-menu">
							<li><a href="#"><span class="glyphicon glyphicon-user"></span> Profiel</a></li>
							<li class="divider"></a>
							<li><a href="@routes.User.logout()"><span class="glyphicon glyphicon-off"></span> Afmelden</a></li>
						</ul>
					</li>
				</ul>
		
			</div>
		</nav>
		
		@* Sidebar: *@
		<nav class="navbar-default navbar-static-side" role="navigation">
			<div class="sidebar-collapse">
				<ul class="nav" id="side-menu">
					<li class="active"><a href="@routes.Dashboard.index()"><span class="glyphicon glyphicon-dashboard"></span> Dashboard</a></li>
					<li><a href="@routes.Datasets.list()"><span class="glyphicon glyphicon-th-list"></span> Datasets</a></li>
					<li><a href="@routes.DataSources.list()"><span class="glyphicon glyphicon-hdd"></span> Brongegevens</a></li>
					<li>
						<a data-target="#logging-menu" data-toggle="collapse" href="#"><span class="glyphicon glyphicon-stats"></span> Logboek <span class="caret"></span></a>
						<ul id="logging-menu" class="collapse nav nav-second-level">
							@* <li><a href="@routes.Logging.tasks()">Taken</a></li> *@
							<li><a href="@routes.Logging.messages()">Foutmeldingen</a></li>
						</ul>
					</li>
				</ul>
			</div>
		</nav>
		
		<div id="notification-container">
		</div>
		
		<div id="page-wrapper">
			
			@* Show flash message: *@
			@doFlash("success")
			@doFlash("info")
			@doFlash("warning")
			@doFlash("danger")
			
			@content
		</div>
	</div>
}
	